from typing import List
from matrixcomponent.matrix import Path


#Tasks
# Get example output for tests - Ted
# Parser for ODGI Bin file format - Ted
# Component Segmentation Detection - Josiah and Joerg
#   Python memory object model
# Output format


def segment_matrix(matrix: List[Path]):
    dividers = set()  # list of indices of new components

    for path in matrix:
        for left, right in path.links:  # Links are generated by odgi based
            missing_range = list(range(left+1, right))
            # Is the gap range anywhere else in this individual?
            if any([i in path for i in missing_range if i > 0]):
                dividers.add(left + 1)  # the first position of the new component
                dividers.add(right)
                # TODO: insert prevarications about exact position
                # Divider should be somewhere in here
                # Tolerable range?
                # Stack up others using the same Link
